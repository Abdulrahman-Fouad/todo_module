<odoo>
    <record id="task_report" model="ir.actions.report">
        <field name="name">Task Report</field>
        <field name="model">todo.task</field>
        <field name="report_type">qweb-html</field>
        <field name="binding_model_id" ref="model_todo_task"/>
        <field name="binding_type">report</field>
        <field name="report_name">todo_management.task_report_template</field>
    </record>

    <template id="task_report_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="container">
                    <div class="header">
                        <p>
                            <strong>Company logo</strong>
                            <br/>
                            <t t-foreach="o.assign_to" t-as="assigned">
                                <t t-esc="assigned.id"/>
                            </t>
                        </p>
                    </div>

                    <div class="task-box">
                        <p>
                            <strong>TASK:</strong>
                            <t t-esc="o.name"/>
                            <br/>
                            <strong>Due Date:</strong>
                            <t t-esc="o.due_date"/>
                            <br/>
                            <strong>Assign To:</strong>
                             <t t-foreach="o.assign_to" t-as="assigned">
                                <t t-esc="assigned.name"/>
                            </t>
                            <br/>
                            <strong>Estimated Time:</strong>
                            <t t-esc="o.estimated_time"/>
                            H
                        </p>

                        <p>
                            <strong>Description:</strong>
                            <br/>
                            <t t-esc="o.description"/>
                        </p>

                        <table class="timesheet">
                            <caption>Timesheet</caption>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="index" t-value="0"/>
                                <t t-foreach="o.line_ids" t-as="line">
                                    <tr>
                                        <td>
                                            <t t-esc="index + 1"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.date"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.description"/>
                                        </td>
                                        <td>
                                            <strong>
                                                <t t-esc="line.time"/>
                                                H
                                            </strong>
                                        </td>
                                    </tr>
                                    <t t-set="index" t-value="index + 1"/>
                                </t>
                            </tbody>
                            <tfoot>
                                <t t-set="total_time" t-value="0"/>
                                <t t-foreach="o.line_ids" t-as="line">
                                    <t t-set="total_time" t-value="total_time + (line.time or 0)"/>
                                </t>
                                <tr>
                                    <td colspan="3">
                                        <strong>Total Time</strong>
                                    </td>
                                    <td>
                                        <strong>
                                            <t t-esc="total_time"/>
                                            h
                                        </strong>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

<!--                    <div class="footer">-->
<!--                        <div class="left">-->
<!--                            <t t-esc="o.assign_to.email"/>-->
<!--                            - -->
<!--                            <t t-esc="o.assign_to.phone"/>-->
<!--                        </div>-->
<!--                        <div class="right">Page-->
<!--                            <span class="page"/>-->
<!--                            /-->
<!--                            <span class="topage"/>-->
<!--                        </div>-->
<!--                    </div>-->
                </div>
            </t>
        </t>
    </template>
    <template id="report_style" inherit_id="web.report_layout">
        <xpath expr="//head" position="inside">
            <style type="text/css">
                body {
                font-family: Arial, sans-serif;
                background: #f8f8f8;
                padding: 20px;
                }

                .container {
                width: 600px;
                margin: auto;
                border: 2px solid #ccc;
                background-color: #fff;
                padding: 10px;
                }

                .header {
                border: 1px solid #000;
                padding: 10px;
                margin-bottom: 10px;
                }

                .task-box {
                border: 1px solid #000;
                padding: 10px;
                }

                .task-box p {
                margin: 10px 0;
                }

                .timesheet {
                width: 100%;
                border-collapse: collapse;
                margin-top: 10px;
                }

                .timesheet caption {
                font-weight: bold;
                margin-bottom: 5px;
                }

                .timesheet th,
                .timesheet td {
                border: 1px solid #000;
                text-align: center;
                padding: 5px;
                }

                .timesheet td strong {
                color: #000;
                }

                .footer {
                display: flex;
                justify-content: space-between;
                border: 1px solid #000;
                margin-top: 10px;
                padding: 8px;
                font-size: 14px;
                }

            </style>
        </xpath>
    </template>

</odoo>